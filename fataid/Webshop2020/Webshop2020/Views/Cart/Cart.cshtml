@model Cart
@{
    ViewData["Title"] = "Cart";
}

<h1>Cart</h1>
<table>
    <tr>
        <th>
            Kosár tartalma
        </th>
    </tr>
    @if (Model.Items.Count > 0)
    {
        int sum = 0;
        int sub = 0;
        <tr>
            <th>Név</th>
            <th>Darab</th>
            <th>Számított ár</th>
        </tr>
        @for (int i = 0; i < Model.Items.Count; i++)
        {
        <tr>
            <td>
                @Model.Items[i].Product.Name;
            </td>
            <td>
                @Model.Items[i].Count;
            </td>
            <td>
                @{sub = Model.Items[i].Count* Model.Items[i].Product.Price;}
                @sub;
            </td>
            @{sum += sub; }
        </tr>
        <tr>
            <td colspan="2">Összesen:</td>
            <td>@Model.Items.Sum(x => x.Count * x.Product.Price))</td>
        </tr>
        }
    }
    else {
        <tr>
            <td>
                A kosár teljesen üres!
            </td>
        </tr>
    }
    </table>
